<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>垂直卷帘</title>
<link href="css/layout.css" rel="stylesheet" type="text/css" />
<script src="js/jquery.js"></script>
</head>
<body>
   <div class="beforeafter" onmousemove="RollImage(event)" onmousedown="shut(event)">
    <div id="after"></div>
    <div id="verticalbefore"></div>
</div>
<script>
    let flag=true;
    function RollImage(evt){
           var y=evt.pageY;
          $("#verticalbefore").css("height",y+"px");
    }
    //关闭卷帘事件
    function shut(evt){
      if(flag==true){
         $('.beforeafter').removeAttr('onmousemove');
         flag=false;
      }else {
         $('.beforeafter').attr('onmousemove','RollImage(event)');
         flag=true;
      }
    }  
</script>
</body>
</html>